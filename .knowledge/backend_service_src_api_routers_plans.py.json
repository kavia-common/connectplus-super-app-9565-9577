{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints for listing and retrieving plans in a FastAPI application, including query filters and database interactions.", "external_files": ["src/core/auth.py", "src/core/db.py", "src/core/utils.py", "src/models/plans.py"], "external_methods": ["src.core.auth.get_current_user", "src.core.db.get_db", "src.core.utils.oid", "src.core.utils.serialize_doc"], "published": [], "classes": [], "methods": [{"name": "list_plans( min_price: Optional[int] = Query(None, ge=0, description=\"Minimum monthly price.\"), max_price: Optional[int] = Query(None, ge=0, description=\"Maximum monthly price.\"), min_speed: Optional[int] = Query(None, ge=0, description=\"Minimum speed in Mbps.\"), max_speed: Optional[int] = Query(None, ge=0, description=\"Maximum speed in Mbps.\"), service_area: Optional[str] = Query(None, description=\"Filter by pincode in plan.areas.\"), _: AuthUser = Depends(get_current_user), db: Database = Depends(get_db), )", "description": "Handles GET requests to list active plans with optional filters for price, speed, and service area.", "scope": "", "scopeKind": ""}, {"name": "get_plan_by_id( plan_id: str, _: AuthUser = Depends(get_current_user), db: Database = Depends(get_db), )", "description": "Handles GET requests to fetch a specific plan by its ID.", "scope": "", "scopeKind": ""}], "calls": ["db.plans.find", "db.plans.find_one", "serialize_doc"], "search-terms": ["API plans list", "FastAPI plans endpoint", "MongoDB plans query", "PlanOut schema", "Plans route"], "state": 2, "file_id": 8, "knowledge_revision": 30, "git_revision": "133416b960eba02908dcd7a99c1ee182fc1486fd", "ctags": [{"_type": "tag", "name": "get_plan_by_id", "path": "/home/kavia/workspace/code-generation/connectplus-super-app-9565-9577/backend_service/src/api/routers/plans.py", "pattern": "/^def get_plan_by_id($/", "language": "Python", "kind": "function", "signature": "( plan_id: str, _: AuthUser = Depends(get_current_user), db: Database = Depends(get_db), )"}, {"_type": "tag", "name": "list_plans", "path": "/home/kavia/workspace/code-generation/connectplus-super-app-9565-9577/backend_service/src/api/routers/plans.py", "pattern": "/^def list_plans($/", "language": "Python", "kind": "function", "signature": "( min_price: Optional[int] = Query(None, ge=0, description=\"Minimum monthly price.\"), max_price: Optional[int] = Query(None, ge=0, description=\"Maximum monthly price.\"), min_speed: Optional[int] = Query(None, ge=0, description=\"Minimum speed in Mbps.\"), max_speed: Optional[int] = Query(None, ge=0, description=\"Maximum speed in Mbps.\"), service_area: Optional[str] = Query(None, description=\"Filter by pincode in plan.areas.\"), _: AuthUser = Depends(get_current_user), db: Database = Depends(get_db), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/connectplus-super-app-9565-9577/backend_service/src/api/routers/plans.py", "pattern": "/^router = APIRouter(prefix=\"\\/api\\/plans\", tags=[\"Plans\"])$/", "language": "Python", "kind": "variable"}], "hash": "6097e396d0d17b6608109a3e6db1102f", "format-version": 4, "code-base-name": "backend_service", "filename": "backend_service/src/api/routers/plans.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/api\\/plans\", tags=[\"Plans\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"30": "133416b960eba02908dcd7a99c1ee182fc1486fd"}]}