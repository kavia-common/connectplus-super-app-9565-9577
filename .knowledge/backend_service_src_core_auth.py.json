{"is_source_file": true, "format": "Python", "description": "This file implements authentication logic for a FastAPI application, including extracting user info from JWT tokens and enforcing role-based access controls.", "external_files": ["src.core.settings"], "external_methods": ["get_settings", "jwt.decode"], "published": ["get_current_user", "require_roles"], "classes": [{"name": "AuthUser", "description": "A data class representing an authenticated user with user ID and roles."}], "methods": [{"name": "HTTPException _unauthorized(detail: str = \"Not authenticated\")", "description": "Helper function to generate 401 HTTPException.", "scope": "", "scopeKind": ""}, {"name": "HTTPException _forbidden(detail: str = \"Not authorized\")", "description": "Helper function to generate 403 HTTPException.", "scope": "", "scopeKind": ""}, {"name": "AuthUser get_current_user( creds: Optional[HTTPAuthorizationCredentials] = Depends(bearer), )", "description": "Dependency function to extract current user information from JWT token in request.", "scope": "", "scopeKind": ""}, {"name": "require_roles(required: List[str])", "description": "Factory function to generate a dependency that enforces role-based access control.", "scope": "", "scopeKind": ""}, {"name": "AuthUser _dep(user: AuthUser = Depends(get_current_user))", "scope": "require_roles", "scopeKind": "function", "description": "unavailable"}], "calls": ["jwt.decode", "get_settings", "Depends", "_unauthorized", "_forbidden"], "search-terms": ["FastAPI JWT authentication", "AuthUser dataclass", "require_roles dependency", "JWT token decoding", "auth.py authentication"], "state": 2, "file_id": 7, "knowledge_revision": 47, "git_revision": "133416b960eba02908dcd7a99c1ee182fc1486fd", "ctags": [{"_type": "tag", "name": "AuthUser", "path": "/home/kavia/workspace/code-generation/connectplus-super-app-9565-9577/backend_service/src/core/auth.py", "pattern": "/^class AuthUser:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_dep", "path": "/home/kavia/workspace/code-generation/connectplus-super-app-9565-9577/backend_service/src/core/auth.py", "pattern": "/^    def _dep(user: AuthUser = Depends(get_current_user)) -> AuthUser:$/", "file": true, "language": "Python", "typeref": "typename:AuthUser", "kind": "function", "signature": "(user: AuthUser = Depends(get_current_user))", "scope": "require_roles", "scopeKind": "function"}, {"_type": "tag", "name": "_forbidden", "path": "/home/kavia/workspace/code-generation/connectplus-super-app-9565-9577/backend_service/src/core/auth.py", "pattern": "/^def _forbidden(detail: str = \"Not authorized\") -> HTTPException:$/", "language": "Python", "typeref": "typename:HTTPException", "kind": "function", "signature": "(detail: str = \"Not authorized\")"}, {"_type": "tag", "name": "_unauthorized", "path": "/home/kavia/workspace/code-generation/connectplus-super-app-9565-9577/backend_service/src/core/auth.py", "pattern": "/^def _unauthorized(detail: str = \"Not authenticated\") -> HTTPException:$/", "language": "Python", "typeref": "typename:HTTPException", "kind": "function", "signature": "(detail: str = \"Not authenticated\")"}, {"_type": "tag", "name": "bearer", "path": "/home/kavia/workspace/code-generation/connectplus-super-app-9565-9577/backend_service/src/core/auth.py", "pattern": "/^bearer = HTTPBearer(auto_error=False)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_current_user", "path": "/home/kavia/workspace/code-generation/connectplus-super-app-9565-9577/backend_service/src/core/auth.py", "pattern": "/^def get_current_user($/", "language": "Python", "typeref": "typename:AuthUser", "kind": "function", "signature": "( creds: Optional[HTTPAuthorizationCredentials] = Depends(bearer), )"}, {"_type": "tag", "name": "require_roles", "path": "/home/kavia/workspace/code-generation/connectplus-super-app-9565-9577/backend_service/src/core/auth.py", "pattern": "/^def require_roles(required: List[str]):$/", "language": "Python", "kind": "function", "signature": "(required: List[str])"}], "hash": "db957b03ee392064c5a3b0f23d5b04b7", "format-version": 4, "code-base-name": "backend_service", "filename": "backend_service/src/core/auth.py", "fields": [{"name": "bearer = HTTPBearer(auto_error=False)", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"47": "133416b960eba02908dcd7a99c1ee182fc1486fd"}]}